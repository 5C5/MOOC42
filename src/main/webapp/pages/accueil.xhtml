
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/template.xhtml">

    <ui:define name="head"></ui:define>
    
    <ui:define name="title">#{fr['general.accueil.title']}</ui:define>

    <ui:define name="body-site">
       		<h:form >    
<!-- 	        	<p:layout fullPage="true"> -->
<!--                     <p:layoutUnit position="north" size="100" header="Top" resizable="true" closable="true" collapsible="true"> -->
<!--                         <h:outputText value="North unit content." /> -->
<!--                     </p:layoutUnit> -->

                <p:layout>
                    <p:layoutUnit position="west" size="200" header="Menu" collapsible="true">
                        <h:panelGrid columns="1">
                            <!-- Cours -->
                            <p:commandButton id="mcours" value="#{fr['menu.cours']}" action="cours" style="width:180px;"/>
                            <!-- Exercices -->
                            <p:commandButton id="mexercice" value="#{fr['menu.exercice']}" action="exercice" style="width:180px;"/>
                            <!-- Bac Ã  sable -->
                            <p:commandButton id="mbacSable" value="#{fr['menu.bac.sable']}" action="bacSable" style="width:180px;"/>
                            <!-- Deco -->
                            <p:commandButton value="#{fr['logout.button']}" icon="ui-icon-extlink" type="submit" immediate="true"  
                            action="#{loginMBean.logout}"  style="width:180px;"/>
                        </h:panelGrid>
                    </p:layoutUnit>
                 
                    <p:layoutUnit position="east" size="250" resizable="true" header="#{fr['general.profil.title']} de #{profilMBean.profil.prenom} #{profilMBean.profil.nom} " rendered="#{profilMBean.rapprenant}">
                        <!-- Notions -->
                        <p:panel header="#{fr['profil.niveau.title']}">
                            <ui:repeat var="niv" value="#{profilMBean.profil.niveaux}" >
                                <h:panelGrid columns="3" cellpadding="5">
                                    <h:outputText value="#{niv.nom}"/>
                                    <p:rating value="#{niv.niveau}" readonly="true" stars="3"/>
                                    <p:commandButton id="levelUp" value="Level up" action="#{profilMBean.levelUp}" update="@form">
                                        <f:setPropertyActionListener target="#{profilMBean.idConnaissanceLevelUp}" value="#{niv.id}" />
                                        <f:setPropertyActionListener target="#{profilMBean.connaissanceLevel}" value="#{niv.niveau}" />
                                    </p:commandButton>
                                </h:panelGrid>
                            </ui:repeat>
                        </p:panel>
                    </p:layoutUnit>
                 
                    <p:layoutUnit position="center">
                        Page 
                    </p:layoutUnit>
                 
                </p:layout>
	        </h:form> 
	    </ui:define>

</ui:composition>